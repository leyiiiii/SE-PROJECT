{"version":3,"file":"js/335.d5556b93.js","mappings":"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","sources":["webpack://se-project/./src/views/Team.vue","webpack://se-project/src/views/Team.vue","webpack://se-project/./src/views/Team.vue?0bb6","webpack://se-project/./src/views/Team.vue?993e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"Left\"},[_c('Navi')],1)]),_c('el-col',{attrs:{\"span\":22}},[_c('div',{staticClass:\"Right\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"teamInfo1\"},[_vm._v(_vm._s(_vm.form.name))])])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"inviteButton\"},[(_vm.isMainAdmin || _vm.isAdmin)?_c('el-button',{attrs:{\"type\":\"info\",\"round\":\"\"},on:{\"click\":function($event){_vm.dialogVisible2 = true}}},[_vm._v(\"邀请成员\")]):_vm._e(),_c('el-dialog',{attrs:{\"title\":\"邀请成员\",\"visible\":_vm.dialogVisible2,\"width\":\"30%\",\"before-close\":_vm.handleClose2},on:{\"update:visible\":function($event){_vm.dialogVisible2=$event}}},[_c('el-form',{attrs:{\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名字\"}},[_c('el-input',{model:{value:(_vm.inviteName),callback:function ($$v) {_vm.inviteName=$$v},expression:\"inviteName\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelChanges2}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.inviteMember}},[_vm._v(\"发送邀请\")])],1)],1),_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.leaveTeam}},[_vm._v(\"离开团队\")])],1)])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"teamInfo2\"},[_vm._v(\"团队创建日期 : \")]),_c('span',{staticClass:\"teamInfo2\"},[_vm._v(_vm._s(_vm.form.date))])])]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"teamInfo2\"},[_vm._v(\"团队人数 : \")]),_c('span',{staticClass:\"teamInfo2\"},[_vm._v(_vm._s(_vm.form.count))])])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"infoDesc\"},[_c('span',{staticClass:\"teamInfo2\"},[_vm._v(\"团队简介 :\")])])]),(_vm.hasChinese())?_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"infoDesc2\"},[_c('span',{staticClass:\"teamInfo2\"},[_vm._v(_vm._s(_vm.form.desc))])])]):_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"infoDesc3\"},[_c('span',{staticClass:\"teamInfo2\"},[_vm._v(_vm._s(_vm.form.desc))])])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"projectTitle\"},[_c('i',{staticClass:\"el-icon-s-order\"}),_c('span',{staticClass:\"membersTitle\"},[_vm._v(\"项目\")]),_c('el-button',{staticClass:\"addButton\",attrs:{\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":function($event){_vm.dialogVisible = true}}}),_c('el-dialog',{attrs:{\"title\":\"创建项目\",\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.project,\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('el-input',{model:{value:(_vm.project.name),callback:function ($$v) {_vm.$set(_vm.project, \"name\", $$v)},expression:\"project.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 },\"autocomplete\":\"off\",\"resize\":\"none\"},model:{value:(_vm.project.desc),callback:function ($$v) {_vm.$set(_vm.project, \"desc\", $$v)},expression:\"project.desc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelChanges}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createProject}},[_vm._v(\"确定\")])],1)],1)],1)])],1),(!_vm.haveProject)?_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"projects\"},[_vm._v(\" 暂无项目！ \")])])],1):_c('el-row',_vm._l((_vm.projectList),function(item){return _c('el-button',{key:item.id,staticClass:\"projectButton\",on:{\"click\":function($event){return _vm.enterProject(item.id)}}},[_vm._v(_vm._s(item.title))])}),1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"members\"},[_c('i',{staticClass:\"el-icon-user-solid\"}),_c('span',{staticClass:\"membersTitle\"},[_vm._v(\"成员列表\")])])])],1),_c('el-row',{staticClass:\"membersRow\"},_vm._l((_vm.membersList),function(item){return _c('el-row',{key:item.id,attrs:{\"justify\":\"center\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":23}},[_c('div',{staticClass:\"membersList\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"membersInfo\"},[_c('span',[_vm._v(\"昵称: \")]),_c('span',[_vm._v(_vm._s(item.username))])])]),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"membersInfo\"},[_c('span',[_vm._v(\"真实姓名: \")]),_c('span',[_vm._v(_vm._s(item.realname))])])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"buttonArea\"},[(_vm.checkPosition(item.position))?_c('el-button',{staticClass:\"promoteButton\",attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.promoteMember}},[_vm._v(\"升为管理员\")]):_vm._e(),(_vm.checkPosition2(item.position))?_c('el-button',{staticClass:\"kickButton\",attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.kickMember}},[_vm._v(\"移除\")]):_vm._e()],1)])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"membersInfo\"},[_c('span',[_vm._v(\"邮箱: \")]),_c('span',[_vm._v(_vm._s(item.email))])])]),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"membersInfo\"},[_c('span',[_vm._v(\"身份: \")]),_c('span',[_vm._v(_vm._s(item.position))])])])],1)],1)])],1)}),1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-row>\r\n      <el-col :span=\"2\"><div class=\"Left\">\r\n        <Navi></Navi>\r\n        </div></el-col>\r\n      <el-col :span=\"22\"><div class=\"Right\">\r\n        <el-row>\r\n            <el-col :span=\"12\">\r\n                <div class=\"info\">\r\n                    <span class=\"teamInfo1\">{{ form.name }}</span>\r\n            </div></el-col>\r\n            <el-col :span=\"8\">\r\n                <div class=\"inviteButton\">\r\n                    <el-button v-if=\"isMainAdmin || isAdmin\" type=\"info\" round @click=\"dialogVisible2 = true\">邀请成员</el-button>\r\n                    <el-dialog title=\"邀请成员\" :visible.sync=\"dialogVisible2\" width=\"30%\" :before-close=\"handleClose2\">\r\n                        <el-form label-width=\"auto\">\r\n                            <el-form-item label=\"用户名字\">\r\n                                <el-input v-model=\"inviteName\"></el-input>\r\n                            </el-form-item>\r\n                    </el-form>\r\n                    <span slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"cancelChanges2\">取消</el-button>\r\n                        <el-button type=\"primary\" @click=\"inviteMember\">发送邀请</el-button>\r\n                    </span>\r\n                 </el-dialog>\r\n                    <el-button type=\"danger\" round @click=\"leaveTeam\">离开团队</el-button>\r\n            </div></el-col>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col :span=\"12\">\r\n                <div class=\"info\">\r\n                    <span class=\"teamInfo2\">团队创建日期&nbsp;:&nbsp;</span>\r\n                    <span class=\"teamInfo2\">{{ form.date }}</span>\r\n            </div></el-col>\r\n            <el-col :span=\"12\">\r\n                <div class=\"info\">\r\n                    <span class=\"teamInfo2\">团队人数&nbsp;:&nbsp;</span>\r\n                    <span class=\"teamInfo2\">{{ form.count }}</span>\r\n            </div></el-col>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col :span=\"2\"><div class=\"infoDesc\">\r\n                <span class=\"teamInfo2\">团队简介&nbsp;:</span>\r\n            </div></el-col>\r\n            <el-col :span=\"20\" v-if=\"hasChinese()\"><div class=\"infoDesc2\">\r\n                <span class=\"teamInfo2\">{{ form.desc }}</span>\r\n            </div></el-col>\r\n            <el-col :span=\"20\" v-else><div class=\"infoDesc3\">\r\n                <span class=\"teamInfo2\">{{ form.desc }}</span>\r\n            </div></el-col>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col :span=\"24\"><div class=\"projectTitle\">\r\n                <i class=\"el-icon-s-order\"></i>\r\n                <span class=\"membersTitle\">项目</span>\r\n                 <el-button class=\"addButton\" icon=\"el-icon-plus\" circle @click=\"dialogVisible = true\"></el-button>\r\n                 <el-dialog title=\"创建项目\" :visible.sync=\"dialogVisible\" width=\"50%\" :before-close=\"handleClose\">\r\n                 <el-form :model=\"project\" label-width=\"auto\">\r\n                    <el-form-item label=\"项目名称\">\r\n                        <el-input v-model=\"project.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"项目简介\">\r\n                      <el-input type=\"textarea\" :autosize=\"{ minRows: 2 }\" v-model=\"project.desc\" autocomplete=\"off\" resize=\"none\"></el-input>\r\n                    </el-form-item>\r\n                 </el-form>\r\n                 <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"cancelChanges\">取消</el-button>\r\n                    <el-button type=\"primary\" @click=\"createProject\">确定</el-button>\r\n                    </span>\r\n                </el-dialog>\r\n                </div></el-col>\r\n        </el-row>\r\n        <el-row v-if=\"!haveProject\">\r\n            <el-col :span=\"24\"><div class=\"projects\">\r\n            暂无项目！\r\n            </div></el-col>\r\n        </el-row>\r\n        <el-row v-else>\r\n            <el-button class=\"projectButton\" v-for=\"item in projectList\" :key=\"item.id\" @click=\"enterProject(item.id)\">{{ item.title }}</el-button>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col :span=\"24\"><div class=\"members\">\r\n                <i class=\"el-icon-user-solid\"></i>\r\n                <span class=\"membersTitle\">成员列表</span>\r\n                </div></el-col>\r\n        </el-row>\r\n        <el-row class=\"membersRow\">\r\n        <el-row v-for=\"item in membersList\" :key=\"item.id\" justify=\"center\" type=\"flex\">\r\n            <el-col :span=\"23\"><div class=\"membersList\">\r\n            <el-row>\r\n                <el-col :span=\"10\">\r\n                    <div class=\"membersInfo\">\r\n                        <span>昵称:&nbsp;</span>\r\n                        <span>{{ item.username }}</span>\r\n                </div></el-col>\r\n                <el-col :span=\"10\">\r\n                    <div class=\"membersInfo\">\r\n                        <span>真实姓名:&nbsp;</span>\r\n                        <span>{{ item.realname }}</span>\r\n                </div></el-col>\r\n                <el-col :span=\"4\"><div class=\"buttonArea\">\r\n                <el-button class=\"promoteButton\" type=\"success\" round v-if=\"checkPosition(item.position)\" @click=\"promoteMember\">升为管理员</el-button>\r\n                <el-button class=\"kickButton\" type=\"danger\" round v-if=\"checkPosition2(item.position)\" @click=\"kickMember\">移除</el-button>\r\n                </div></el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"10\">\r\n                    <div class=\"membersInfo\">\r\n                        <span>邮箱:&nbsp;</span>\r\n                        <span>{{ item.email }}</span>\r\n                </div></el-col>\r\n                <el-col :span=\"10\">\r\n                    <div class=\"membersInfo\">\r\n                        <span>身份:&nbsp;</span>\r\n                        <span>{{ item.position }}</span>\r\n                </div></el-col>\r\n            </el-row>\r\n            </div></el-col>\r\n        </el-row>\r\n        </el-row>\r\n        </div></el-col>\r\n    </el-row>\r\n</template>\r\n<script>\r\nimport Navi from '@/components/NavigationBar.vue'\r\nimport user from \"@/store/user\";\r\n\r\nexport default {\r\n  name: 'Team',\r\n  components: {\r\n    Navi,\r\n  },\r\n  created() {\r\n    var userInfo;\r\n    userInfo = user.getters.getUser(user.state());\r\n    if(userInfo) {\r\n      this.userId = userInfo.user.id;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n        dialogVisible: false,\r\n        dialogVisible2: false,\r\n        isMainAdmin: false,\r\n        isAdmin: false,\r\n        isMember: false,\r\n        userId:'',\r\n        form: {\r\n            name:'',\r\n            desc:'',\r\n            date:'',\r\n            count:'',\r\n        },\r\n        project: {\r\n            name:'',\r\n            desc:'',\r\n        },\r\n        inviteName:'',\r\n        haveProject: false,\r\n        projectList:[],\r\n        membersList:[]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getTeamInfo();\r\n    this.getProjectDetail();\r\n  },\r\n  methods: {\r\n    cancelChanges() {\r\n        this.dialogVisible = false;\r\n        this.project.name = '';\r\n        this.project.desc = '';\r\n    },\r\n    handleClose() {\r\n        this.dialogVisible = false;\r\n        this.project.name = '';\r\n        this.project.desc = '';\r\n    },\r\n    cancelChanges2() {\r\n        this.dialogVisible2 = false;\r\n        this.inviteName = '';\r\n    },\r\n    handleClose2() {\r\n        this.dialogVisible2 = false;\r\n        this.inviteName = '';\r\n    },\r\n    createProject() {\r\n        if(this.project.name == \"\") {\r\n                this.$message.warning(\"项目名不可为空！\");\r\n                return;\r\n        }\r\n            \r\n        if(this.project.desc == \"\") {\r\n            this.$message.warning(\"项目简介不可为空！\");\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n            formData.append(\"title\", this.project.name);\r\n            formData.append(\"description\", this.project.desc);\r\n\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n\r\n        this.$axios({\r\n            method:\"post\",\r\n            url:\"/api/v1/project/create/\" + this.$route.params.id,\r\n            data: formData,\r\n            headers: header,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.$message.success(\"创建项目成功\");\r\n            setTimeout(function () {\r\n                location.reload(true);\r\n            }, 500);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.$message.warning(\"创建项目失败\")\r\n          });\r\n\r\n        this.dialogVisible = false;\r\n    },\r\n    enterProject(projectID) {\r\n        this.$router.push(\"/project/\" + projectID);\r\n    },\r\n    inviteMember() {\r\n        const formData = new FormData();\r\n        formData.append(\"user\", this.inviteName);\r\n        formData.append(\"teamId\", this.$route.params.id);\r\n\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n        this.$axios({\r\n            method:\"post\",\r\n            url:\"/api/v1/team/invite\",\r\n            data: formData,\r\n            headers: header,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.$message.success(\"邀请成功\");\r\n            this.dialogVisible2 = false;\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.$message.warning(\"抱歉，邀请失败！\")\r\n          });\r\n    },\r\n    leaveTeam() {\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n        this.$axios({\r\n            method:\"delete\",\r\n            url:\"/api/v1/team/leave/\" + this.$route.params.id,\r\n            headers: header,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.$message.success(\"离开团队成功\");\r\n            setTimeout(function () {\r\n                this.$router.push(\"/\");\r\n            }, 500);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.$message.warning(\"您是主管理员，无法离开！\")\r\n          });\r\n    },\r\n    async getTeamInfo() {\r\n        await this.$axios.all([\r\n            this.getTeamDetail(),\r\n            this.getTeamMembers(),\r\n        ])\r\n        .then(this.$axios.spread((tDetail, tMembers) => {\r\n            console.log(tDetail);\r\n            console.log(tMembers);\r\n            this.form.name = tDetail.data.teamName;\r\n            this.form.desc = tDetail.data.description;\r\n            this.form.count = tDetail.data.members;\r\n            this.form.date = tDetail.data.createdAt.slice(0, 10);\r\n            this.membersList = tMembers.data.results;\r\n\r\n            for(let i = 0; i < this.membersList.length; i++) {\r\n                if(this.membersList[i].id === this.userId) {\r\n                    if(this.membersList[i].position == 0) {\r\n                        this.isMainAdmin = true;\r\n                        console.log(\"MAIN\");\r\n                        break;\r\n                    }\r\n                    if(this.membersList[i].position == 1) {\r\n                        this.isAdmin = true;\r\n                        console.log(\"ADMIN\");\r\n                        break;\r\n                    }\r\n                    if(this.membersList[i].position == 2) {\r\n                        this.isMember = true;\r\n                        console.log(\"NORMAL\");\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < this.membersList.length; i++) {\r\n                if(this.membersList[i].position == 0) {\r\n                    this.membersList[i].position = 'Main Admin';\r\n                }\r\n                if(this.membersList[i].position == 1) {\r\n                    this.membersList[i].position = 'Admin';\r\n                }\r\n                if(this.membersList[i].position == 2) {\r\n                    this.membersList[i].position = 'Member';\r\n                }\r\n            }\r\n        }))\r\n        .catch((err) =>{\r\n            console.log(err);\r\n            this.$router.push({path: '/'});\r\n        })\r\n    },\r\n    getTeamMembers() {\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n        return this.$axios({\r\n        method: \"get\",\r\n        url: \"/api/v1/team/member/list/\" + this.$route.params.id,\r\n        headers: header,\r\n      });\r\n    },\r\n    getTeamDetail() {\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n        return this.$axios({\r\n        method: \"get\",\r\n        url: \"/api/v1/team/\" + this.$route.params.id,\r\n        headers: header,\r\n      });\r\n    },\r\n    getProjectDetail() {\r\n        var header = {};\r\n        if (localStorage.getItem(\"token\"))\r\n            header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n        this.$axios({\r\n        method: \"get\",\r\n        url: \"/api/v1/project/list?belongTo=\" + this.$route.params.id,\r\n        headers: header,\r\n        })\r\n          .then((res) =>{\r\n            console.log(res);\r\n            this.projectList = res.data.results;\r\n            \r\n            if(this.projectList.length > 0) {\r\n                this.haveProject = true;\r\n            }\r\n          })\r\n          .catch((err) =>{\r\n            console.log(err);\r\n          })\r\n    },\r\n    hasChinese() {\r\n        const REGEX_CHINESE = /[\\u3040-\\u30ff\\u3400-\\u4dbf\\u4e00-\\u9fff\\uf900-\\ufaff\\uff66-\\uff9f]/;\r\n        const hasChinese = this.form.desc.match(REGEX_CHINESE);\r\n        if(hasChinese) {\r\n            console.log(\"true\");\r\n            return true;\r\n        }\r\n        else {\r\n            console.log(\"false\");\r\n            return false;\r\n        }\r\n    },\r\n    checkPosition(userPos) {\r\n        if(userPos === \"Member\" && (this.isMainAdmin || this.isAdmin)) {\r\n            return true;\r\n        }\r\n        else return false;\r\n    },\r\n    checkPosition2(userPos) {\r\n        if(userPos === \"Member\" && (this.isMainAdmin || this.isAdmin)) {\r\n            return true;\r\n        }\r\n        if(userPos === \"Admin\" && this.isMainAdmin) {\r\n            return true;\r\n        }\r\n        else return false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.inviteButton{\r\n    /* border: 1px solid black; */\r\n    margin-top: 20px;\r\n}\r\n.inviteButton button{\r\n    margin-right: 10px;\r\n}\r\n.info{\r\n    margin: 10px;\r\n    /* border: 1px solid black; */\r\n}\r\n.infoDesc{\r\n    margin-left: 10px;\r\n    /* border: 1px solid black; */\r\n}\r\n.infoDesc2{\r\n    overflow-wrap: break-word;\r\n    word-wrap: break-word;\r\n    hyphens: auto;\r\n    white-space: normal;\r\n    /* border: 1px solid black; */\r\n}\r\n.infoDesc3{\r\n    overflow-wrap: break-word;\r\n    word-wrap: break-word;\r\n    hyphens: auto;\r\n    white-space: normal;\r\n    /* border: 1px solid black; */\r\n    margin-top: 3px;\r\n}\r\n.teamInfo1{\r\n    font-size: 40px;\r\n}\r\n.teamInfo2{\r\n    font-size: 20px;\r\n}\r\n.projects{\r\n    margin-left: 30px;\r\n    margin-top: 5px;\r\n    /* border: 1px solid black; */\r\n}\r\n.members, .projectTitle{\r\n    /* border: 1px solid black; */\r\n    margin: 30px 0 0 10px;\r\n}\r\n.membersTitle{\r\n    font-size: 24px;\r\n}\r\n.membersList{\r\n    /* border: 1px solid black; */\r\n    border-radius: 20px;\r\n    margin-top: 10px;\r\n    background-color: orange;\r\n}\r\n.membersInfo{\r\n    margin: 5px 0 5px 10px;\r\n    font-size: 18px;\r\n    /* border: 1px solid black; */\r\n}\r\n.membersRow{\r\n    /* border: 1px solid black; */\r\n    height: 470px;\r\n    overflow: hidden;\r\n    overflow-y: scroll;\r\n}\r\n.buttonArea{\r\n    position: absolute;\r\n    margin-top: 12px;\r\n}\r\n.addButton{\r\n    margin-left: 10px;\r\n}\r\n.projectButton{\r\n    margin-left: 20px;\r\n    margin-top: 10px;\r\n}\r\n.el-icon-user-solid, .el-icon-s-order{\r\n    font-size: 22px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Team.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Team.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Team.vue?vue&type=template&id=189cda1e&scoped=true&\"\nimport script from \"./Team.vue?vue&type=script&lang=js&\"\nexport * from \"./Team.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Team.vue?vue&type=style&index=0&id=189cda1e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"189cda1e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","_s","form","name","isMainAdmin","isAdmin","on","$event","dialogVisible2","_e","handleClose2","model","value","inviteName","callback","$$v","expression","slot","cancelChanges2","inviteMember","leaveTeam","date","count","hasChinese","desc","dialogVisible","handleClose","project","$set","minRows","cancelChanges","createProject","haveProject","_l","projectList","item","key","id","enterProject","title","membersList","username","realname","checkPosition","position","promoteMember","checkPosition2","kickMember","email","staticRenderFns","components","Navi","created","userInfo","data","isMember","userId","mounted","methods","formData","header","Authorization","method","url","headers","then","res","console","setTimeout","location","catch","err","path","getTeamMembers","getTeamDetail","getProjectDetail","component"],"sourceRoot":""}