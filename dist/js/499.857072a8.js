"use strict";(self["webpackChunkMoShu"]=self["webpackChunkMoShu"]||[]).push([[499],{6499:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"main",attrs:{type:"flex",justify:"center"}},[e("el-col",{attrs:{span:20}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"pic-wrapper"},[e("img",{attrs:{id:"bg",src:n(2994)}})]),e("div",{staticClass:"login-wrapper"},[e("el-row",{attrs:{justify:"center",type:"flex"}},[e("img",{attrs:{id:"logo",src:n(2533),alt:"logo"}})]),e("el-row",{attrs:{justify:"center",type:"flex"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputName,expression:"inputName"}],staticClass:"input-name",attrs:{type:"text",placeholder:"用户名/邮箱"},domProps:{value:t.inputName},on:{input:function(e){e.target.composing||(t.inputName=e.target.value)}}}),e("i",{staticClass:"el-icon-view hidden",on:{click:t.changeSee}})]),e("el-row",{attrs:{justify:"center",type:"flex"}},[t.canSee?e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputPwd,expression:"inputPwd"}],staticClass:"input-pwd",attrs:{type:"text",placeholder:"密码"},domProps:{value:t.inputPwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Login.apply(null,arguments)},input:function(e){e.target.composing||(t.inputPwd=e.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputPwd,expression:"inputPwd"}],staticClass:"input-pwd",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.inputPwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Login.apply(null,arguments)},input:function(e){e.target.composing||(t.inputPwd=e.target.value)}}}),e("i",{staticClass:"el-icon-view",on:{click:t.changeSee}})]),e("el-row",{attrs:{justify:"center",type:"flex"}},[e("div",{staticStyle:{width:"350px","text-align":"end"}},[e("span",[t._v("没有账号？")]),e("button",{staticClass:"regist-button",on:{click:t.gotoRegister}},[t._v(" 立即注册 ")])])]),e("el-row",{attrs:{justify:"center",type:"flex"}},[e("button",{staticClass:"login-button",on:{click:t.Login}},[t._v("登录")])])],1)])])],1)},s=[],a={name:"Login",data(){return{inputName:"",inputPwd:"",canSee:!1}},methods:{changeSee(){this.canSee=!this.canSee},gotoRegister(){this.$router.push("/register")},Login(){if(""==this.inputName)return void this.$message.warning("用户名不可为空");if(""==this.inputPwd)return void this.$message.warning("密码不可为空");const t=new FormData;t.append("username",this.inputName),t.append("password",this.inputPwd),this.$axios({method:"post",url:"/api/v1/auth/login/",data:t}).then((t=>{console.log(t),localStorage.setItem("token",t.data.tokens.access),this.$message.success("登录成功！"),this.$store.dispatch("saveUserInfo",{user:{username:t.data.username,confirmed:!0,id:t.data.id}}),setTimeout((()=>{this.$router.push("/team/&")}),500)})).catch((t=>{console.log(t),this.$message.warning("用户名/邮箱不存在或密码错误")}))}}},o=a,r=n(1001),u=(0,r.Z)(o,i,s,!1,null,"540789da",null),p=u.exports},2994:function(t,e,n){t.exports=n.p+"img/LoginBg.58d17251.png"}}]);
//# sourceMappingURL=499.857072a8.js.map