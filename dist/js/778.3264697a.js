"use strict";(self["webpackChunkMoShu"]=self["webpackChunkMoShu"]||[]).push([[778],{86778:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"main",attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:20}},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"pic-wrapper"},[t("img",{attrs:{id:"bg",src:n(52994)}})]),t("div",{staticClass:"login-wrapper"},[t("el-row",{attrs:{justify:"center",type:"flex"}},[t("img",{attrs:{id:"logo",src:n(32533),alt:"logo"}})]),t("el-row",{attrs:{justify:"center",type:"flex"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputName,expression:"inputName"}],staticClass:"input-name",attrs:{type:"text",placeholder:"用户名/邮箱"},domProps:{value:e.inputName},on:{input:function(t){t.target.composing||(e.inputName=t.target.value)}}}),t("i",{staticClass:"el-icon-view hidden",on:{click:e.changeSee}})]),t("el-row",{attrs:{justify:"center",type:"flex"}},[e.canSee?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputPwd,expression:"inputPwd"}],staticClass:"input-pwd",attrs:{type:"text",placeholder:"密码"},domProps:{value:e.inputPwd},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login.apply(null,arguments)},input:function(t){t.target.composing||(e.inputPwd=t.target.value)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputPwd,expression:"inputPwd"}],staticClass:"input-pwd",attrs:{type:"password",placeholder:"密码"},domProps:{value:e.inputPwd},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login.apply(null,arguments)},input:function(t){t.target.composing||(e.inputPwd=t.target.value)}}}),t("i",{staticClass:"el-icon-view",on:{click:e.changeSee}})]),t("el-row",{attrs:{justify:"center",type:"flex"}},[t("div",{staticStyle:{width:"350px","text-align":"end"}},[t("span",[e._v("没有账号？")]),t("button",{staticClass:"regist-button",on:{click:e.gotoRegister}},[e._v(" 立即注册 ")])])]),t("el-row",{attrs:{justify:"center",type:"flex"}},[t("button",{staticClass:"login-button",on:{click:e.Login}},[e._v("登录")])])],1)])])],1)},s=[],a={name:"Login",data(){return{inputName:"",inputPwd:"",canSee:!1}},methods:{changeSee(){this.canSee=!this.canSee},gotoRegister(){this.$router.push("/register")},Login(){if(""==this.inputName)return void this.$message.warning("用户名不可为空");if(""==this.inputPwd)return void this.$message.warning("密码不可为空");const e=new FormData;e.append("username",this.inputName),e.append("password",this.inputPwd),this.$axios({method:"post",url:"/api/v1/auth/login/",data:e}).then((e=>{console.log(e),localStorage.setItem("token",e.data.tokens.access),this.$message.success("登录成功！"),this.$store.dispatch("saveUserInfo",{user:{username:e.data.username,confirmed:!0,id:e.data.id}}),setTimeout((()=>{this.$router.push("/teamhome")}),500)})).catch((e=>{console.log(e),this.$message.warning("用户名/邮箱不存在或密码错误")}))}}},o=a,r=n(1001),u=(0,r.Z)(o,i,s,!1,null,"219e641b",null),p=u.exports},52994:function(e,t,n){e.exports=n.p+"img/LoginBg.58d17251.png"}}]);
//# sourceMappingURL=778.3264697a.js.map