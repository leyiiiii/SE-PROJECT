"use strict";(self["webpackChunkse_project"]=self["webpackChunkse_project"]||[]).push([[788],{59:function(e,t,a){a.d(t,{Z:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("el-row",[t("el-container",[t("el-aside",{attrs:{width:"auto"},nativeOn:{mouseenter:function(t){return e.collapseOpen.apply(null,arguments)},mouseleave:function(t){return e.collapseClose.apply(null,arguments)}}},[t("el-menu",{staticClass:"nav-menu",attrs:{router:!0,"unique-opened":!0,collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user"}),t("span",[e._v(" 用户管理 ")])]),t("el-menu-item-group",[t("el-menu-item",{staticStyle:{cursor:"default"},attrs:{index:""}},[e.profilePic?t("el-avatar",{attrs:{size:25,src:e.profilePic}}):t("el-avatar",{attrs:{size:25,icon:"el-icon-user"}}),t("span",[e._v(" "+e._s(e.username)+" ")])],1),t("el-menu-item",{attrs:{index:""}},[t("i",{staticClass:"el-icon-camera"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 更改头像 ")]),t("input",{attrs:{id:"imgUpload",type:"file",accept:"image/png,image/gif,image/jpeg"},on:{change:function(t){return e.uploadAvatar(t)}}})]),t("el-menu-item",{attrs:{index:""},on:{click:function(t){e.dialogFormVisible=!0}}},[t("i",{staticClass:"el-icon-edit"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 编辑资料 ")])]),t("el-menu-item",{attrs:{index:"/"},on:{click:e.Logout}},[t("i",{staticClass:"el-icon-switch-button"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 退出登录 ")])])],1)],2),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-office-building"}),t("span",[e._v(" 团队 ")])]),t("el-menu-item-group",e._l(e.joinedTeam,(function(a){return t("el-menu-item",{key:a.index,on:{click:function(t){return e.toTeam(a.id)}}},[e._v(e._s(a.teamName))])})),1)],2),t("el-menu-item",{attrs:{index:"/invitation"}},[t("i",{staticClass:"el-icon-postcard"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 查看邀请 ")])]),t("el-menu-item",{attrs:{index:"/about"}},[t("i",{staticClass:"el-icon-collection"}),t("span",{staticClass:"mainTitle"},[e._v(" 关于墨书 ")])])],1)],1),t("el-main")],1),t("el-dialog",{attrs:{title:"编辑个人信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{attrs:{model:e.form}},[t("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"真实姓名","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),t("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"个性签名","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.about,callback:function(t){e.$set(e.form,"about",t)},expression:"form.about"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelEdit}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},o=[],i=a(2094),l={data(){return{isLogin:!1,joinedTeam:[],collapseBtnClick:!1,isCollapse:!0,userId:"",username:"",profilePic:"",form:{username:"",profilePic:"",realname:"",email:"",about:""},dialogFormVisible:!1,formLabelWidth:"120px"}},created(){var e;e=i.Z.getters.getUser(i.Z.state()),e&&(this.isLogin=!0,this.userId=e.user.id,this.username=e.user.username,this.form.username=e.user.username,this.getUser())},mounted(){this.getJoinedTeam()},methods:{getImg(e){this.form.profilePic=e.target.files[0]},async uploadAvatar(e){this.form.profilePic=e.target.files[0];const t=new FormData;t.append("email",this.form.email),t.append("username",this.form.username),t.append("userId",this.form.id),t.append("about",this.form.about),t.append("realname",this.form.realname),t.append("profile",this.form.profilePic);var a={};localStorage.getItem("token")&&(a={Authorization:"Bearer "+localStorage.getItem("token")}),await this.$axios({method:"put",url:"/api/v1/auth/detail/"+this.userId,data:t,headers:a}).then((e=>{console.log(e),this.getUser(),setTimeout((function(){location.reload(!0)}),500),this.$message.success("恭喜！修改成功")})).catch((e=>{console.log(e),this.$message.warning("抱歉！上传失败")}))},async editProfile(){const e=new FormData;e.append("email",this.form.email),e.append("username",this.form.username),e.append("userId",this.form.id),e.append("about",this.form.about),e.append("realname",this.form.realname);var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),await this.$axios({method:"put",url:"/api/v1/auth/detail/"+this.userId,data:e,headers:t}).then((e=>{console.log(e),this.getUser(),this.dialogFormVisible=!1,setTimeout((function(){location.reload(!0)}),500),this.$message.success("恭喜！修改成功")})).catch((e=>{console.log(e),this.$message.warning("抱歉！昵称已被使用")}))},cancelEdit(){this.dialogFormVisible=!1,this.getUser()},collapseStatus(){this.collapseBtnClick=this.isCollapse,this.isCollapse=!this.isCollapse},collapseOpen(){this.collapseBtnClick||(this.isCollapse=!1)},collapseClose(){this.collapseBtnClick||(this.isCollapse=!0)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},Logout(){localStorage.removeItem("token"),this.$store.dispatch("clear"),this.$message.success("登出成功"),setTimeout((()=>{this.$router.push({path:"/"}),location.reload()}),500)},async getUser(){var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),await this.$axios({method:"get",url:"/api/v1/auth/detail/"+this.userId,headers:e}).then((e=>{console.log(e),this.form.realname=e.data.realname,this.form.email=e.data.email,this.profilePic=e.data.thumbnail,this.form.profilePic=e.data.thumbnail})).catch((e=>{console.log(e)}))},async getJoinedTeam(){var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),await this.$axios({method:"get",url:"/api/v1/team/list",headers:e}).then((e=>{console.log(e),this.joinedTeam=e.data.results})).catch((e=>{console.log(e)}))},toTeam(e){this.$router.push("/team/"+e),setTimeout((()=>{location.reload()}),500)},toInvitation(){this.isLogin?this.$router.push("/invitation"):this.$notify({title:"注意！",message:"请先进行登录",type:"warning"})}}},r=l,n=a(1001),c=(0,n.Z)(r,s,o,!1,null,"33e78304",null),m=c.exports},4788:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});a(6699);var s=function(){var e=this,t=e._self._c;return t("el-row",[e.haveTeam?e._e():t("img",{attrs:{id:"bg",src:a(63),alt:""}}),e.haveTeam?e._e():t("h1",{staticClass:"slogan"},[e._v("您并未加入任何团队")]),e.haveTeam?e._e():t("h3",{staticClass:"createTeam"},[e._v("创建团队"),t("i",{staticClass:"el-icon-right"})]),t("el-col",{attrs:{span:2}},[t("Navi")],1),e.haveTeam?t("el-col",{attrs:{span:21}},[t("div",{staticClass:"Right"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"info"},[t("span",{staticClass:"teamInfo1"},[e._v(e._s(e.form.name))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"inviteButton"},[e.isMainAdmin||e.isAdmin?t("el-button",{attrs:{type:"info",round:""},on:{click:function(t){e.dialogVisible2=!0}}},[e._v("邀请成员")]):e._e(),t("el-dialog",{attrs:{title:"邀请成员",visible:e.dialogVisible2,width:"30%","before-close":e.handleClose2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[t("el-form",{attrs:{"label-width":"auto"}},[t("el-form-item",{attrs:{label:"用户名字"}},[t("el-input",{model:{value:e.inviteName,callback:function(t){e.inviteName=t},expression:"inviteName"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelChanges2}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.inviteMember}},[e._v("发送邀请")])],1)],1),t("el-button",{attrs:{type:"danger",round:""},on:{click:e.leaveTeam}},[e._v("离开团队")])],1)])],1),t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#ffcccc","active-text-color":"#ff6699","text-color":"#ffffff"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"1"}},[e._v("详情")]),t("el-menu-item",{attrs:{index:"2"}},[e._v("项目")]),t("el-menu-item",{attrs:{index:"3"}},[e._v("成员列表")])],1),1==e.activePage?t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"info"},[t("i",{staticClass:"el-icon-caret-right"}),t("span",{staticClass:"teamInfo2"},[e._v("团队创建日期 : ")]),t("span",{staticClass:"teamInfo2"},[e._v(e._s(e.form.date))])])]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"info"},[t("i",{staticClass:"el-icon-caret-right"}),t("span",{staticClass:"teamInfo2"},[e._v("团队人数 : ")]),t("span",{staticClass:"teamInfo2"},[e._v(e._s(e.form.count))])])])],1):e._e(),1==e.activePage?t("el-row",[t("el-col",{attrs:{span:2}},[t("div",{staticClass:"infoDesc"},[t("i",{staticClass:"el-icon-caret-right"}),t("span",{staticClass:"teamInfo2"},[e._v("团队简介:")])])]),e.hasChinese()?t("el-col",{attrs:{span:20}},[t("div",{staticClass:"infoDesc2"},[t("span",{staticClass:"teamInfo2"},[e._v(e._s(e.form.desc))])])]):t("el-col",{attrs:{span:20}},[t("div",{staticClass:"infoDesc3"},[t("span",{staticClass:"teamInfo2"},[e._v(" "+e._s(e.form.desc))])])])],1):e._e(),2==e.activePage?t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"projectTitle"},[t("i",{staticClass:"el-icon-s-order"}),t("span",{staticClass:"membersTitle"},[e._v("项目")]),t("el-button",{staticClass:"addButton",attrs:{icon:"el-icon-plus",circle:""},on:{click:function(t){e.dialogVisible=!0}}}),t("el-dialog",{attrs:{title:"创建项目",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{attrs:{model:e.project,"label-width":"auto"}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}})],1),t("el-form-item",{attrs:{label:"项目简介"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:2},autocomplete:"off",resize:"none"},model:{value:e.project.desc,callback:function(t){e.$set(e.project,"desc",t)},expression:"project.desc"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelChanges}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.createProject}},[e._v("确定")])],1)],1),t("el-button",{staticClass:"recycleButton",attrs:{icon:"el-icon-delete-solid",round:""},on:{click:e.toRecycle}},[e._v("回收站")]),e.haveProject&&2==e.activePage?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.projectList.filter((t=>!e.search||t.title.toLowerCase().includes(e.search.toLowerCase())||t.creatorName.toLowerCase().includes(e.search.toLowerCase()))),"cell-class-name":e.getCellIndex},on:{"cell-click":e.toProject}},[t("el-table-column",{attrs:{label:"项目名字",prop:"title",sortable:""}}),t("el-table-column",{attrs:{label:"创建日期",prop:"createdAt",sortable:""}}),t("el-table-column",{attrs:{label:"创建者",prop:"creatorName"}}),t("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"top"}},[t("el-button",{attrs:{size:"mini",icon:"el-icon-document-copy",circle:""},on:{click:function(t){return e.duplicateProject(a.$index,a.row)}}})],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[t("el-button",{staticClass:"deleteButton",attrs:{size:"mini",type:"danger",icon:"el-icon-folder-delete",circle:""},on:{click:function(t){return e.deleteProject(a.$index,a.row)}}})],1)]}}],null,!1,2904264602)},[t("template",{slot:"header"},[t("el-input",{attrs:{size:"mini",placeholder:"输入您的搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1):e._e()],1)])],1):e._e(),e.haveProject||2!=e.activePage?e._e():t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"projects"},[e._v(" 暂无项目！ ")])])],1),3==e.activePage?t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"members"},[t("i",{staticClass:"el-icon-user-solid"}),t("span",{staticClass:"membersTitle"},[e._v("成员列表")])])])],1):e._e(),3==e.activePage?t("el-row",{staticClass:"membersRow"},e._l(e.membersList,(function(a){return t("el-row",{key:a.id,attrs:{justify:"center",type:"flex"}},[t("el-col",{attrs:{span:23}},[t("div",{staticClass:"membersList"},[t("el-row",[t("el-col",{attrs:{span:10}},[t("div",{staticClass:"membersInfo"},[t("span",[e._v("昵称: ")]),t("span",[e._v(e._s(a.username))])])]),t("el-col",{attrs:{span:10}},[t("div",{staticClass:"membersInfo"},[t("span",[e._v("真实姓名: ")]),t("span",[e._v(e._s(a.realname))])])]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"buttonArea"},[e.checkPosition(a.position)?t("el-button",{staticClass:"promoteButton",attrs:{type:"success",round:""},on:{click:function(t){return e.promoteMember(a.id)}}},[e._v("升为管理员")]):e._e(),e.checkPosition3(a.position)?t("el-button",{staticClass:"promoteButton",attrs:{type:"danger",round:""},on:{click:function(t){return e.demoteMember(a.id)}}},[e._v("降为成员")]):e._e(),e.checkPosition2(a.position)?t("el-button",{staticClass:"kickButton",attrs:{type:"danger",round:""},on:{click:function(t){return e.kickMember(a.id)}}},[e._v("移除")]):e._e()],1)])],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("div",{staticClass:"membersInfo"},[t("span",[e._v("邮箱: ")]),t("span",[e._v(e._s(a.email))])])]),t("el-col",{attrs:{span:10}},[t("div",{staticClass:"membersInfo"},[t("span",[e._v("身份: ")]),t("span",[e._v(e._s(a.position))])])])],1)],1)])],1)})),1):e._e()],1)]):e._e()],1)},o=[],i=a(59),l=a(2094),r=a(3522),n=a.n(r),c={name:"Team",components:{Navi:i.Z},created(){var e;e=l.Z.getters.getUser(l.Z.state()),e&&(this.userId=e.user.id)},data(){return{haveTeam:!1,dialogVisible:!1,dialogVisible2:!1,isMainAdmin:!1,isAdmin:!1,isMember:!1,userId:"",activeIndex:"1",activePage:1,form:{name:"",desc:"",date:"",count:""},project:{name:"",desc:""},inviteName:"",haveProject:!1,projectList:[],membersList:[],search:"",rowIndex:0,cellIndex:0}},created(){"&"==this.$route.params.id?this.goTeam():(this.haveTeam=!0,this.getTeamInfo(),this.getProjectDetail())},mounted(){var e=document.querySelector(".slogan");e.innerHTML=e.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),n().timeline({loop:!1}).add({targets:".slogan .letter",translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:5e3,delay:(e,t)=>500+30*t})},methods:{duplicateProject(e,t){console.log(e,t);var a={};localStorage.getItem("token")&&(a={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"post",url:"/api/v1/project/copy/"+t.id,headers:a}).then((e=>{console.log(e),this.$message.success("项目复制成功！"),setTimeout((function(){location.reload(!0)}),500)})).catch((e=>{console.log(e),this.$message.warning("项目复制失败！")}))},deleteProject(e,t){console.log(e,t);var a={};localStorage.getItem("token")&&(a={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"delete",url:"/api/v1/project/"+t.id,headers:a}).then((e=>{console.log(e),this.$message.success("项目删除成功！"),this.projectList.splice(t.id,1)})).catch((e=>{console.log(e),this.$message.warning("项目删除失败！")}))},cancelChanges(){this.dialogVisible=!1,this.project.name="",this.project.desc=""},handleClose(){this.dialogVisible=!1,this.project.name="",this.project.desc=""},cancelChanges2(){this.dialogVisible2=!1,this.inviteName=""},handleClose2(){this.dialogVisible2=!1,this.inviteName=""},handleSelect(e,t){"1"==e&&(this.activePage=1),"2"==e&&(this.activePage=2),"3"==e&&(this.activePage=3)},createProject(){if(""==this.project.name)return void this.$message.warning("项目名不可为空！");if(""==this.project.desc)return void this.$message.warning("项目简介不可为空！");const e=new FormData;e.append("title",this.project.name),e.append("description",this.project.desc);var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"post",url:"/api/v1/project/create/"+this.$route.params.id,data:e,headers:t}).then((e=>{console.log(e),this.$message.success("创建项目成功"),setTimeout((function(){location.reload(!0)}),500)})).catch((e=>{console.log(e),this.$message.warning("创建项目失败")})),this.dialogVisible=!1},enterProject(e){this.$router.push("/project/"+e)},getCellIndex({row:e,column:t,rowIndex:a,columnIndex:s}){e.index=a,t.index=s},toProject(e,t,a,s){this.rowIndex=e.index,this.columnIndex=t.index,3!=this.columnIndex&&this.$router.push("/project/"+e.id)},inviteMember(){const e=new FormData;e.append("user",this.inviteName),e.append("teamId",this.$route.params.id);var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"post",url:"/api/v1/team/invite",data:e,headers:t}).then((e=>{console.log(e),this.$message.success("邀请成功"),this.dialogVisible2=!1})).catch((e=>{console.log(e),this.$message.warning("抱歉，邀请失败！")}))},leaveTeam(){var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"delete",url:"/api/v1/team/leave/"+this.$route.params.id,headers:e}).then((e=>{console.log(e),this.$message.success("离开团队成功"),this.$router.push({path:"/team/&"})})).catch((e=>{console.log(e),this.$message.warning("您是主管理员，无法离开！")}))},async goTeam(){var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),await this.$axios({method:"get",url:"/api/v1/team/list",headers:e}).then((e=>{0!=e.data.results.length&&(this.$router.push("/team/"+e.data.results[0].id),window.location.reload())})).catch((e=>{console.log(e)}))},async getTeamInfo(){await this.$axios.all([this.getTeamDetail(),this.getTeamMembers()]).then(this.$axios.spread(((e,t)=>{console.log(e),console.log(t),this.form.name=e.data.teamName,this.form.desc=e.data.description,this.form.count=e.data.members,this.form.date=e.data.createdAt.slice(0,10),this.membersList=t.data.results;for(let a=0;a<this.membersList.length;a++)if(this.membersList[a].id===this.userId){if(0==this.membersList[a].position){this.isMainAdmin=!0,console.log("MAIN");break}if(1==this.membersList[a].position){this.isAdmin=!0,console.log("ADMIN");break}if(2==this.membersList[a].position){this.isMember=!0,console.log("NORMAL");break}}for(let a=0;a<this.membersList.length;a++)0==this.membersList[a].position&&(this.membersList[a].position="Main Admin"),1==this.membersList[a].position&&(this.membersList[a].position="Admin"),2==this.membersList[a].position&&(this.membersList[a].position="Member")}))).catch((e=>{console.log(e),this.$router.push({path:"/"})}))},getTeamMembers(){var e={};return localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"get",url:"/api/v1/team/member/list/"+this.$route.params.id,headers:e})},getTeamDetail(){var e={};return localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"get",url:"/api/v1/team/"+this.$route.params.id,headers:e})},getProjectDetail(){var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"get",url:"/api/v1/project/list?belongTo="+this.$route.params.id,headers:e}).then((e=>{console.log(e),this.projectList=e.data.results;for(let t=0;t<this.projectList.length;t++)this.projectList[t].createdAt=this.projectList[t].createdAt.slice(0,10);this.projectList.length>0&&(this.haveProject=!0)})).catch((e=>{console.log(e)}))},hasChinese(){const e=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f]/,t=this.form.desc.match(e);return t?(console.log("true"),!0):(console.log("false"),!1)},checkPosition(e){return!("Member"!==e||!this.isMainAdmin&&!this.isAdmin)},checkPosition2(e){return!("Member"!==e||!this.isMainAdmin&&!this.isAdmin)||!("Admin"!==e||!this.isMainAdmin)},checkPosition3(e){return!(!this.isMainAdmin||"Admin"!==e)},promoteMember(e){var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"put",url:"/api/v1/team/admin/set/"+this.$route.params.id+"/"+e,headers:t}).then((e=>{console.log(e),this.$message.success("设置成功！"),setTimeout((function(){location.reload(!0)}),500)})).catch((e=>{console.log(e)}))},demoteMember(e){var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"put",url:"/api/v1/team/admin/remove/"+this.$route.params.id+"/"+e,headers:t}).then((e=>{console.log(e),this.$message.success("设置成功！"),setTimeout((function(){location.reload(!0)}),500)})).catch((e=>{console.log(e)}))},kickMember(e){var t={};localStorage.getItem("token")&&(t={Authorization:"Bearer "+localStorage.getItem("token")}),this.$axios({method:"delete",url:"/api/v1/team/member/remove/"+this.$route.params.id+"/"+e,headers:t}).then((e=>{console.log(e),this.$message.success("移除成功！"),setTimeout((function(){location.reload(!0)}),500)})).catch((e=>{console.log(e)}))},toRecycle(){this.$router.push("/recycle/"+this.$route.params.id)}}},m=c,d=a(1001),u=(0,d.Z)(m,s,o,!1,null,"9861937c",null),h=u.exports},63:function(e,t,a){e.exports=a.p+"img/TeamBg.2d922dbf.png"}}]);
//# sourceMappingURL=788.8ca06c4c.js.map