{"version":3,"file":"js/921.173a49b6.js","mappings":"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","sources":["webpack://MoShu/./src/components/Editor/Preview.vue","webpack://MoShu/./src/components/Editor/ComponentWrapper.vue","webpack://MoShu/src/components/Editor/ComponentWrapper.vue","webpack://MoShu/./src/components/Editor/ComponentWrapper.vue?c73c","webpack://MoShu/./src/components/Editor/ComponentWrapper.vue?99c2","webpack://MoShu/src/components/Editor/Preview.vue","webpack://MoShu/./src/components/Editor/Preview.vue?2952","webpack://MoShu/./src/components/Editor/Preview.vue?abf4","webpack://MoShu/./src/utils/events.js","webpack://MoShu/./src/utils/runAnimation.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"bg\"},[_c('el-button',{staticClass:\"back\",on:{\"click\":_vm.back}},[_vm._v(\"返回\")]),_c('el-button',{staticClass:\"getAddress\",on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"生成预览链接\")]),_c('el-dialog',{attrs:{\"append-to-body\":\"true\",\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('h3',[_vm._v(\"复制以下链接，在浏览器打开以观看原型设计页面预览图:\")]),_c('p',[_vm._v(_vm._s(_vm.currentWebsiteLink))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确 定\")])],1)]),_c('el-select',{staticClass:\"selectPage\",attrs:{\"clearable\":\"\",\"placeholder\":\"切换页面\"},on:{\"change\":function($event){return _vm.select(_vm.value)}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.designList),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":'页面'+(index+1)+'：'+item.title}},[_vm._v(\" \"+_vm._s('页面' + (index + 1) + '：' + item.title)+\" \")])}),1),_c('div',{staticClass:\"canvas-container\"},[_c('div',{staticClass:\"canvas\",style:({\n                  ..._vm.getCanvasStyle(_vm.canvasStyleData),\n                  width: _vm.changeStyleWithScale(_vm.canvasStyleData.width) + 'px',\n                  height: _vm.changeStyleWithScale(_vm.canvasStyleData.height) + 'px',\n              })},_vm._l((_vm.copyData),function(item,index){return _c('ComponentWrapper',{key:index,attrs:{\"config\":item}})}),1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{on:{\"click\":_vm.onClick,\"mouseenter\":_vm.onMouseEnter}},[(_vm.config.component.startsWith('SVG'))?_c(_vm.config.component,{ref:\"component\",tag:\"component\",staticClass:\"component\",style:(_vm.getSVGStyle(_vm.config.style)),attrs:{\"prop-value\":_vm.config.propValue,\"element\":_vm.config,\"request\":_vm.config.request,\"linkage\":_vm.config.linkage}}):_c(_vm.config.component,{ref:\"component\",tag:\"component\",staticClass:\"component\",style:(_vm.getStyle(_vm.config.style)),attrs:{\"prop-value\":_vm.config.propValue,\"element\":_vm.config,\"request\":_vm.config.request,\"linkage\":_vm.config.linkage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div @click=\"onClick\" @mouseenter=\"onMouseEnter\">\r\n        <component\r\n            :is=\"config.component\"\r\n            v-if=\"config.component.startsWith('SVG')\"\r\n            ref=\"component\"\r\n            class=\"component\"\r\n            :style=\"getSVGStyle(config.style)\"\r\n            :prop-value=\"config.propValue\"\r\n            :element=\"config\"\r\n            :request=\"config.request\"\r\n            :linkage=\"config.linkage\"\r\n        />\r\n\r\n        <component\r\n            :is=\"config.component\"\r\n            v-else\r\n            ref=\"component\"\r\n            class=\"component\"\r\n            :style=\"getStyle(config.style)\"\r\n            :prop-value=\"config.propValue\"\r\n            :element=\"config\"\r\n            :request=\"config.request\"\r\n            :linkage=\"config.linkage\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getStyle, getSVGStyle } from '@/utils/style'\r\nimport runAnimation from '@/utils/runAnimation'\r\nimport { mixins } from '@/utils/events'\r\nimport eventBus from '@/utils/eventBus'\r\n\r\nexport default {\r\n    mixins: [mixins],\r\n    props: {\r\n        config: {\r\n            type: Object,\r\n            required: true,\r\n            default: () => {},\r\n        },\r\n    },\r\n    mounted() {\r\n        runAnimation(this.$refs.component.$el, this.config.animations)\r\n    },\r\n    methods: {\r\n        getStyle,\r\n        getSVGStyle,\r\n\r\n        onClick() {\r\n            const events = this.config.events\r\n            Object.keys(events).forEach(event => {\r\n                this[event](events[event])\r\n            })\r\n\r\n            eventBus.$emit('v-click', this.config.id)\r\n        },\r\n\r\n        onMouseEnter() {\r\n            eventBus.$emit('v-hover', this.config.id)\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component {\r\n    position: absolute;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ComponentWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ComponentWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentWrapper.vue?vue&type=template&id=195f3027&scoped=true&\"\nimport script from \"./ComponentWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentWrapper.vue?vue&type=style&index=0&id=195f3027&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"195f3027\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div ref=\"container\" class=\"bg\">\r\n    <!--    <el-button v-if=\"!isScreenshot\" class=\"close\" @click=\"close\">关闭</el-button>-->\r\n    <el-button class=\"back\" @click=\"back\">返回</el-button>\r\n    <el-button class=\"getAddress\" @click=\"dialogVisible = true\">生成预览链接</el-button>\r\n    <el-dialog\r\n        append-to-body=true\r\n        title=\"提示\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\">\r\n      <h3>复制以下链接，在浏览器打开以观看原型设计页面预览图:</h3>\r\n      <p>{{ currentWebsiteLink }}</p>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-select class=\"selectPage\" v-model=\"value\" clearable placeholder=\"切换页面\" @change=\"select(value)\">\r\n      <el-option :key=\"index\" v-for=\"(item, index) in designList\" :value=\"'页面'+(index+1)+'：'+item.title\">\r\n        {{ '页面' + (index + 1) + '：' + item.title }}\r\n      </el-option>\r\n    </el-select>\r\n    <div class=\"canvas-container\">\r\n      <div\r\n          class=\"canvas\"\r\n          :style=\"{\r\n                    ...getCanvasStyle(canvasStyleData),\r\n                    width: changeStyleWithScale(canvasStyleData.width) + 'px',\r\n                    height: changeStyleWithScale(canvasStyleData.height) + 'px',\r\n                }\"\r\n      >\r\n        <ComponentWrapper\r\n            v-for=\"(item, index) in copyData\"\r\n            :key=\"index\"\r\n            :config=\"item\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getStyle, getCanvasStyle} from '@/utils/style'\r\nimport {mapState} from 'vuex'\r\nimport ComponentWrapper from './ComponentWrapper'\r\nimport {changeStyleWithScale} from '@/utils/translate'\r\nimport {deepCopy} from '@/utils/utils'\r\n\r\nexport default {\r\n  components: {ComponentWrapper},\r\n  props: {\r\n    isScreenshot: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      copyData: [],\r\n      designList: [],\r\n      value: \"\",\r\n      status: false,\r\n      dialogVisible: false,\r\n      currentWebsiteLink: window.location.href,\r\n      previewEnableList: []\r\n    }\r\n  },\r\n  computed: mapState([\r\n    'componentData',\r\n    'canvasStyleData',\r\n  ]),\r\n\r\n  created() {\r\n    //   console.log(this.$store.state.lockPreview)\r\n    //   console.log(this.$store.state._isLogin_)\r\n    // && !this.$store.state._isLogin_\r\n    //   if (this.$store.state.lockPreview.includes(this.$route.params.id) ) {\r\n    //     alert(\"预览关闭\");\r\n    //   } else {\r\n    //     alert(\"预览开启\");\r\n    //   }\r\n\r\n    var header = {};\r\n    if (localStorage.getItem(\"token\"))\r\n      header = {Authorization: \"Bearer \" + localStorage.getItem(\"token\")};\r\n\r\n    var arr = this.$route.params.id.split(\"&\");\r\n    var url_ = \"/api/v1/diagram/preview/list?belongTo=\" + arr[0];\r\n\r\n    this.$axios({\r\n      method: \"get\",\r\n      url: url_,\r\n      headers: header,\r\n    })\r\n        .then((res) => {\r\n          this.previewEnableList = res.data.results;\r\n          var temp = false;\r\n          for (let i = 0; i < this.previewEnableList.length; i++) {\r\n            if (this.previewEnableList[i].id === arr[2]) {\r\n              temp = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!temp && !this.$store.state._isLogin_) {\r\n            this.$alert('此原型设计页面的预览已被关闭，无法查看，点击确定后将返回上一网页', '提示', {\r\n              confirmButtonText: 'OK',\r\n              callback: action => {\r\n                this.$router.back();\r\n              }\r\n            });\r\n          }\r\n          // console.log(res.data.results);\r\n          // console.log(resultList[0].isView);\r\n          // console.log(resultList[1].isView);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n\r\n    header = {};\r\n    if (localStorage.getItem(\"token\"))\r\n      header = {Authorization: \"Bearer \" + localStorage.getItem(\"token\")};\r\n\r\n    this.$axios({\r\n      method: \"get\",\r\n      url: \"/api/v1/diagram/list?belongTo=\" + this.$route.params.id.split(\"&\")[0],\r\n      headers: header,\r\n    })\r\n        .then((res) => {\r\n          this.designList = res.data.results;\r\n          // console.log(this.designList)\r\n          // console.log(this.designList[0].componentData)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n    header = {};\r\n    if (localStorage.getItem(\"token\"))\r\n      header = {Authorization: \"Bearer \" + localStorage.getItem(\"token\")};\r\n\r\n    this.$axios({\r\n      method: \"get\",\r\n      url: \"/api/v1/diagram/\" + this.$route.params.id.split(\"&\")[2],\r\n      headers: header,\r\n    })\r\n        .then((res) => {\r\n          console.log(\"123456\", res.data);\r\n          var r = res.data;\r\n          this.title = r.title;\r\n          // console.log(\"canvasStyle\", JSON.parse(r.canvasStyleData))\r\n          this.$store.commit(\"setCanvasStyle\", JSON.parse(r.canvasStyleData));\r\n          this.$store.commit(\"setComponentData\", JSON.parse(r.componentData));\r\n          this.$set(this, 'copyData', deepCopy(JSON.parse(r.componentData)))\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n  },\r\n\r\n  methods: {\r\n    getStyle,\r\n    getCanvasStyle,\r\n    changeStyleWithScale,\r\n\r\n    close() {\r\n      this.$emit('close')\r\n    },\r\n\r\n    back() {\r\n      this.$router.back();\r\n    },\r\n\r\n    getAddress() {\r\n      this.$message(window.location.href);\r\n    },\r\n\r\n    select(value) {\r\n      let x = value.split('：')[0].substring(2, value.indexOf('：'));\r\n      var arr = this.$route.params.id.split(\"&\");\r\n      var projectId = arr[0];\r\n      var designId = this.designList[x - 1].id;\r\n      var path = this.currentWebsiteLink.split(\"/preview\")[0] + \"/preview/\" + projectId + \"&design&\" + designId;\r\n\r\n      var temp = false;\r\n      for (let i = 0; i < this.previewEnableList.length; i++) {\r\n        if (this.previewEnableList[i].id === designId) {\r\n          temp = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!temp && !this.$store.state._isLogin_) {\r\n        this.$alert('此原型设计页面的预览已被关闭，无法查看', '提示', {\r\n          confirmButtonText: 'OK',\r\n          callback: action => {\r\n            // this.$router.back();\r\n          }\r\n        });\r\n      } else if (temp || this.$store.state._isLogin_) {\r\n        this.$store.commit(\"setCanvasStyle\", JSON.parse(this.designList[x - 1].canvasStyleData));\r\n        this.$store.commit(\"setComponentData\", JSON.parse(this.designList[x - 1].componentData));\r\n        this.$set(this, 'copyData', deepCopy(JSON.parse(this.designList[x - 1].componentData)))\r\n        this.currentWebsiteLink = path\r\n      }\r\n    }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bg {\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  background: rgb(0, 0, 0, .1);\r\n  z-index: 10;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: auto;\r\n  padding: 20px;\r\n\r\n  .canvas-container {\r\n    width: calc(100% - 40px);\r\n    height: calc(100% - 120px);\r\n    overflow: auto;\r\n\r\n    .canvas {\r\n      background: #fff;\r\n      position: relative;\r\n      margin: auto;\r\n    }\r\n  }\r\n\r\n  .close {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n  }\r\n\r\n  .back {\r\n    position: absolute;\r\n    left: 20px;\r\n    top: 20px;\r\n  }\r\n\r\n  .getAddress {\r\n    position: absolute;\r\n    left: 120px;\r\n    top: 20px;\r\n  }\r\n\r\n  .selectPage {\r\n    position: absolute;\r\n    left: 300px;\r\n    top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=026ef01d&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=026ef01d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"026ef01d\",\n  null\n  \n)\n\nexport default component.exports","// 编辑器自定义事件\r\nconst events = {\r\n    redirect(url) {\r\n        if (url) {\r\n            window.location.href = url\r\n        }\r\n    },\r\n\r\n    alert(msg) {\r\n        if (msg) {\r\n            alert(msg)\r\n        }\r\n    },\r\n}\r\n\r\nconst mixins = {\r\n    methods: events,\r\n}\r\n\r\nconst eventList = [\r\n    {\r\n        key: 'redirect',\r\n        label: '跳转事件',\r\n        event: events.redirect,\r\n        param: '',\r\n    },\r\n    {\r\n        key: 'alert',\r\n        label: 'alert 事件',\r\n        event: events.alert,\r\n        param: '',\r\n    },\r\n]\r\n\r\nexport {\r\n    mixins,\r\n    events,\r\n    eventList,\r\n}","export default async function runAnimation($el, animations = []) {\r\n    const play = (animation) => new Promise(resolve => {\r\n        const { animationTime, value = '', isLoop } = animation\r\n        $el.style.setProperty('--time', animationTime + 's')\r\n        $el.classList.add(value, 'animated', utilsHandle(isLoop))\r\n        const removeAnimation = () => {\r\n            $el.removeEventListener('animationend', removeAnimation)\r\n            $el.removeEventListener('animationcancel', removeAnimation)\r\n            $el.classList.remove(value, 'animated', utilsHandle(isLoop))\r\n            $el.style.removeProperty('--time')\r\n            resolve()\r\n        }\r\n            \r\n        $el.addEventListener('animationend', removeAnimation)\r\n        $el.addEventListener('animationcancel', removeAnimation)\r\n    })\r\n\r\n    for (let i = 0, len = animations.length; i < len; i++) {\r\n        await play(animations[i])\r\n    }\r\n}\r\n\r\nfunction utilsHandle(isLoop) {\r\n    return isLoop ? 'infinite' : 'no-infinite'\r\n}\r\n"],"names":["render","_vm","this","_c","_self","ref","staticClass","on","back","_v","$event","dialogVisible","attrs","_s","currentWebsiteLink","slot","select","value","model","callback","$$v","expression","_l","designList","item","index","key","title","style","getCanvasStyle","canvasStyleData","width","changeStyleWithScale","height","copyData","staticRenderFns","onClick","onMouseEnter","config","component","startsWith","tag","getSVGStyle","propValue","request","linkage","getStyle","mixins","props","type","required","default","mounted","runAnimation","methods","Object","eventBus","components","ComponentWrapper","isScreenshot","data","status","previewEnableList","computed","created","header","Authorization","method","url","headers","then","res","temp","confirmButtonText","catch","err","console","close","getAddress","events","redirect","window","location","href","alert","msg","eventList","label","event","param","async","$el","animations","play","animation","Promise","resolve","animationTime","isLoop","setProperty","classList","add","utilsHandle","removeAnimation","removeEventListener","remove","removeProperty","addEventListener","i","len","length"],"sourceRoot":""}